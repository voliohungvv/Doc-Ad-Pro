<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Cơ chế cached key - AdPro-HD</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "C\u01a1 ch\u1ebf cached key";
        var mkdocs_page_input_path = "cached-key.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> AdPro-HD
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Trang chủ</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Bắt đầu nhanh</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../started_below_1.2/">Triển khai version dưới 1.1.1 (Không hỗ trợ trong tương lai)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../started_above_1.2/">Triển khai version từ 1.2.0</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../log-update/">Cập nhật version</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">AdsSDK</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/adsdk/">Hàm cấu hình AdsSDK</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Các loại ad</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-native/">Admob-Native</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-native-collapsible/">Admob-Native-Collapsible</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-banner/">Admob-Banner</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-inter/">Admob-Inter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-inter-splash/">Admob-Inter-Splash</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-open-resume/">Admob-Open-Resume</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-open-splash/">Admob-Open-Splash</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-reward/">Admob-Reward</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ad/admob-reward-inter/">Admob-Reward-Inter</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Một vài tính năng khác</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Cơ chế cached key</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../custom-loading/">Custom loading ad</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config-load-ad-real/">Cấu hình load ad thật</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../disable-ad-version/">Tắt ad theo version</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../floating-debug-view/">Floating view debug</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../end/">Cuối cùng</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">AdPro-HD</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Một vài tính năng khác</li>
      <li class="breadcrumb-item active">Cơ chế cached key</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="cached-key-va-co-che">Cached key và cơ chế<a class="headerlink" href="#cached-key-va-co-che" title="Permanent link">&para;</a></h1>
<p>Logic tất cả các ad sẽ được chưa trong các map cached theo một key cho trước để quản lí trạng thái vòng đời. Đối với thư viện này có 2 cơ chế cache theo 2 loại key là SpaceName và Id của Ad.</p>
<p>Với thư viện ad này một cached key sẽ lưu trữ object ad đó và sẽ đảm bảo load và show <strong>nhiều lần</strong> chỉ trên object đó trừ khi bạn sử dụng hàm <strong>destroyAdBySpace</strong> để loại bỏ ad ra khỏi map cached. Do vậy moi thông tin về space ad đó sẽ được lưu trữ từ khi app bắt đầu đến khi app bị kill</p>
<p>:pushpin: <strong>Lưu ý</strong>
- 2 quảng cáo có chung cached key thì bạn có thể dùng chung chúng trong mapCached
- Ở tầng ngoài bạn chỉ cần theo tác với spacename còn muốn chuyền đổi cần dùng hàm <strong>setCachedBySpace</strong>
- Nên xác định cấu hình cached trước khi bắt đầu load, show ad</p>
<p>:pushpin: <strong>Cached theo space ( AdmobNative, AdmobBanner, AdmobOpenResume, AdmobOpenSplash )</strong></p>
<ul>
<li>Mặc định cached theo space và dùng chung space sẽ chính là dùng chung ad, có thể tách space  để load như một đối tượng ad mới.</li>
</ul>
<p>:pushpin: <strong>Cached theo ID ( AdmobInter, AdmobInterSplash, AdmobRewardInter, AdmobReward)</strong></p>
<ul>
<li>
<p>Mặc định cached theo ID và mục đích chính sẽ  chính là tách space của inter chung phục vụ mục đích bật tắt nhưng vẫn đảm bảo chỉ load và show chung 1 ID chung đó.</p>
</li>
<li>
<p>Tuy là 2 spaceName khác nhau có chung ID và có cached theo ID. Nhưng bạn hiển thị log, floating debug view thư viện vẫn lọc chỉ các trạng thái của space đó chứ không phải là 2 space đó chung id sẽ chung các các callback và log.</p>
</li>
<li>
<p>Đối với các ad full screen có hỗ trở hàm thay đổi giữa cached theo space hoặc cached theo ID. Tuỳ bạn sử dụng</p>
</li>
</ul>
<pre><code class="language-kotlin">    fun setCachedBySpace(value: Boolean): AdmobInter // true cached space, false cached theo id
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../ad/admob-reward-inter/" class="btn btn-neutral float-left" title="Admob-Reward-Inter"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../custom-loading/" class="btn btn-neutral float-right" title="Custom loading ad">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../ad/admob-reward-inter/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../custom-loading/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
